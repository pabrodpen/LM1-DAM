<html>
<!-- Copied from http://www.tutorialesprogramacionya.com/javascriptya/temarios/descripcion.php?inicio=50&cod=61 by Cyotek WebCopy 1.5.0.516, jueves, 20 de septiembre de 2018, 16:18:36 -->

<head>
<script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-4669394804436935",
    enable_page_level_ads: true
  });
</script>
<title>Tutorial de JavaScript : Conceptos</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="../css/estilos.css" rel="stylesheet" type="text/css">
  <meta charset="UTF-8">

<style>
html,body {
	background-color: #D3E9D0;
	font-family: Trebuchet MS, Verdana, Arial, sans-serif;
	font-size: 10pt;
	text-align:center;
}

h1 {
	font-size: 14pt;
	margin: 0%;
}

div#contentdetalle{clear:left;
                   max-width:900px;
				   border-top:0px solid #999;
				   padding-top:15px;
				   background-color: #aed7a8;
				   text-align:left;
				   font-size:1.3em;
				   font-weight:normal;
				   font-family:arial;
				   padding:20px}
				   
.recuadro {
  background-color:#ffffcc;
  text-align:left;
  font-family:courier;
  font-size:1.2em;
  border-width:0;
  padding:5px;

  border: 1px dotted #ffaa00;
  margin-left:5px;  
}		

.tablajs {
    border-collapse: collapse;
    background-color: #fff;
    border: 1px solid #dee2e6;    
    padding: 0.3rem;    
}

.tablajs th,
.tablajs td {
  padding: 0.75rem;
  vertical-align: top;
  border-top: 1px solid #dee2e6;
}

		   
</style>

<style>
.uno { width: 320px; height: 100px; }
@media(min-width: 500px) { .uno { width: 320px; height: 100px; } }
@media(min-width: 800px) { .uno { width: 336px; height: 280px; } }

.dos { width: 320px; height: 100px; }
@media(min-width: 500px) { .dos { width: 320px; height: 100px; } }
@media(min-width: 800px) { .dos { width: 336px; height: 280px; } }
</style>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-80268657-1', 'auto');
  ga('send', 'pageview');

</script>
</head>

<body>

<div class="upperleft">
  <div class="upperright">
    <div class="lowerleft">
      <div class="lowerright">
<table width="98%">
<tr>
<td>
<span style="float:right"><a target="_blank" style="margin-right:0.1em;" href="../../index-2.html">Listado completo de tutoriales</a></span>
<h1>Funciones: anidadas</h1></td>
<td align="right">


</td>
</tr>
</table>

      </div>
    </div>
  </div>
</div>
<br>


<div class="upperleft">
  <div class="upperright">
    <div class="lowerleft">
      <div class="lowerright">

<div id="contentdetalle">

<div style="display:block;float:left;margin: 5px;"> 
 <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- adaptable1 -->
<ins class="adsbygoogle uno" style="display:inline-block" data-ad-client="ca-pub-4669394804436935" data-ad-slot="4716538363"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script> 
</div> 

<p>JavaScript permite definir funciones dentro de otras funciones:</p>
<pre class="recuadro">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Ejemplo de JavaScript&lt;/title&gt;
  &lt;meta charset="UTF-8"&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id="div1"&gt;&lt;/div&gt;

&lt;script&gt;
  function generarListaOrdenada(vec)
  {
    function comienzo()
    {
      s='&lt;ol&gt;';
    }
  
    function fin()
    {
      s=s+'&lt;/ol&gt;';
    }
    
    var s='';
    comienzo();
    var f;
    for(f=0;f&lt;vec.length;f++)
    {
      s=s+'&lt;li&gt;'+vec[f]+'&lt;/li&gt;';
    }
    fin();
    return s;
  }

  onload=function() {
    var opciones=['Opción a','Opción b','Opción c','Opción d'];
    document.getElementById('div1').innerHTML=generarListaOrdenada(opciones);
  }
&lt;/script&gt;
  
&lt;/body&gt;
&lt;/html&gt;
</pre>
<p>Como vemos en el ejemplo la función generarListaOrdenada contiene el algoritmo propiamente dicho y además declara dos funciones llamadas comienzo y fin.</p>
<p>Las funciones anidadas solo pueden ser llamadas desde el interior de la función que las contiene. En este ejemplo la función generarListaOrdenada tiene por objetivo generar un string con una serie de marcas HTML que genere una lista ordenada.</p>
<p>Lo primero en la función generarListaOrdenada es declarar las dos funciones anidadas:<p>
<pre>
    function comienzo()
    {
      s='&lt;ol&gt;';
    }
  
    function fin()
    {
      s=s+'&lt;/ol&gt;';
    }
</pre>
<p>Pero lo primero que se ejecuta al llamar a la función generarListaOrdenada es:</p>
<pre>
    var s='';
    comienzo();
    var f;
    for(f=0;f&lt;vec.length;f++)
    {
      s=s+'&lt;li&gt;'+vec[f]+'&lt;/li&gt;';
    }
    fin();
    return s;
</pre>
<p>Es decir primero se define la variable local s y se inicializa con un string vacío. Seguidamente se llama a la función comienzo que tiene por objetivo cargar en la variable s el valor '&lt;ol&gt;'.</p>
<p>Cuando finaliza de ejecutarse la función interna continua con el for definido en la función generarListaOrdenada:</p>
<pre>
    for(f=0;f&lt;vec.length;f++)
    {
      s=s+'&lt;li&gt;'+vec[f]+'&lt;/li&gt;';
    }
</pre>
<p>Finalmente cuando sale del for se llama a la segunda función anidada llamada fin:</p>
<pre>
    fin();
</pre>
<p>Las funciones anidadas pueden acceder a las variables locales de la función que las contiene (en este caso pueden acceder a la variable s)</p>
<p>Luego la función generarListaOrdenada completa queda con la sintaxis:</p>
<pre>
  function generarListaOrdenada(vec)
  {
    function comienzo()
    {
      s='&lt;ol&gt;';
    }
  
    function fin()
    {
      s=s+'&lt;/ol&gt;';
    }
    
    var s='';
    comienzo();
    var f;
    for(f=0;f&lt;vec.length;f++)
    {
      s=s+'&lt;li&gt;'+vec[f]+'&lt;/li&gt;';
    }
    fin();
    return s;
  }
</pre>
<p>A la función generarListaOrdenada la llamamos desde la función anónima que definimos para el evento onload de la página. Cargamos en el elemento div definido dentro de la página el código HTML que genera una lista ordenada:</p>
<pre>
  onload=function() {
    var opciones=['Opción a','Opción b','Opción c','Opción d'];
    document.getElementById('div1').innerHTML=generarListaOrdenada(opciones);
  }
</pre>
<p>Las funciones anidadas no se las puede llamar desde fuera de la función que las contiene, por ejemplo produce un error si intentamos llamar a la función "comienzo" desde fuera de la función generarListaOrdenada:</p>
<pre>
  onload=function() {
    var opciones=['Opción a','Opción b','Opción c','Opción d'];
    comienzo();
    document.getElementById('div1').innerHTML=generarListaOrdenada(opciones);
  }
</pre></p>
</div>

<div>
<!--publi-->
<script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- adaptable2 -->
<ins class="adsbygoogle dos" style="display:inline-block" data-ad-client="ca-pub-4669394804436935" data-ad-slot="5774469161"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

<!--publi-->
<script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- adaptable2 -->
<ins class="adsbygoogle dos" style="display:inline-block" data-ad-client="ca-pub-4669394804436935" data-ad-slot="5774469161"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>

</div>


   <h2><a href="../index-5.html?inicio=50">Retornar</a></h2>   

      </div>
    </div>
  </div>
</div>


</body>

<!-- Copied from http://www.tutorialesprogramacionya.com/javascriptya/temarios/descripcion.php?inicio=50&cod=61 by Cyotek WebCopy 1.5.0.516, jueves, 20 de septiembre de 2018, 16:18:36 -->
</html>
